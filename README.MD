# Дипломный проект "Прогнозирование стоимости квартир на побережье Черного моря"

Ссылка на прототип: http://ec2-35-156-223-221.eu-central-1.compute.amazonaws.com/

## Цели и задачи проекта

Задача проекта - создать модель, которая позволит предсказывать стоимость квартир по характеристикам и находить выгодные предложения.

### В ходе работы над проектом были решены следующие задачи:

→ Сбор данных (cian_parser.ipynb, cian_json_to_csv.ipynb):

    Данные собирались с сайта cian.ru. Изначально объявления о продаже квартир были отфильтрованы вручную. После этого были проанализированы web-запросы к сайту и на основе полученной информации написан парсер. В результате работы скрипта был получен датасет, состоящий из более 40 тысяч объявлений.

→ EDA (cian_EDA.ipynb):

    * Датасет очищен от дубликатов, пропущенных значений и выбросов.
    * Созданы новые переменные, применены методы для кодирования категориальных признаков.
    * Произведена генерация новых признаков и отбор признаков различными методами.

→ Обучение модели (cian_model.ipynb):

    * Обработаны и отнормированы признаки
    * Построена "наивнуя"/baseline модель, предсказывающую цену по общей площади и городу (с ней будем сравнивать другие модели)
    * Построена модель на основи логистической регресии
    * Обучена модель на основе случайного леса
    * Подготовлена модель на основе градиентного бустинга с помощью CatBoost
    * Применена кросс-валидация для градиетного бустинга
    * На основе предыдущих шагов выбрана оптимальная модель

→ Подготовка к созданию прототипа (cian_model_predict.ipynb):

    * Обучена модель при помощи алгоритма Random Forest т.к. он работает быстро и достаточно хорошо
    * Сохранили модель и названия колонок
    * Написана функция для предсказания стоимости квартиры по входным параметрам
    * Сохранили наиболее привлекательные варианты в json-файл

→ Создание прототипа (папка prototype):

    * Написан сервер на flask
    * Создан фронтенд на основе bootstrap-шаблона
    * Сайт перенесен на amazon
    * Настроен nginx

## Файлы в репозитории

1) сian_parser - Парсер, который забирает информацию из cian
2) cian_json_to_csv - Ноутбук, в которым мы анализируем выгруженные json-файлы и формируем из них датасет
3) сian_EDA - EDA
4) cian_model - обучение модели, анализ и выбор алгоритма
5) cian_model_predict.ipynb - подготовка к созданию прототипа
6) prototype - исходный код с прототипом